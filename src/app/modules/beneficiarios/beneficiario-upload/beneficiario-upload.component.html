<div class="form-container">
  <h2 mat-dialog-title>Documentos del Beneficiario</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-dialog-content>
      <!-- Documento de Identidad -->
      <div class="upload-field">
        <label>Documento de Identidad</label>
        <div class="file-input-container">
          <input type="file"
                 #documentoIdentidad
                 accept=".pdf,.jpg,.jpeg,.png"
                 (change)="onFileSelected($event, 'documento_identidad')"
                 style="display: none">
          <button type="button" 
                  mat-stroked-button 
                  (click)="documentoIdentidad.click()">
            <mat-icon>upload_file</mat-icon>
            Seleccionar Archivo
          </button>
          <span class="file-name">{{ getFileName('documento_identidad') }}</span>
        </div>
        <div class="error-message" *ngIf="form.get('documento_identidad')?.errors?.['invalidType']">
          Solo se permiten archivos PDF o imágenes (JPG, JPEG, PNG)
        </div>
        <div class="error-message" *ngIf="form.get('documento_identidad')?.errors?.['maxSize']">
          El archivo no debe superar 5MB
        </div>
      </div>

      <!-- Puntaje SISBEN -->
      <div class="upload-field">
        <label>Puntaje SISBEN</label>
        <div class="file-input-container">
          <input type="file"
                 #sisben
                 accept=".pdf,.jpg,.jpeg,.png"
                 (change)="onFileSelected($event, 'sisben')"
                 style="display: none">
          <button type="button" 
                  mat-stroked-button 
                  (click)="sisben.click()">
            <mat-icon>upload_file</mat-icon>
            Seleccionar Archivo
          </button>
          <span class="file-name">{{ getFileName('sisben') }}</span>
        </div>
        <div class="error-message" *ngIf="form.get('sisben')?.errors?.['invalidType']">
          Solo se permiten archivos PDF o imágenes (JPG, JPEG, PNG)
        </div>
        <div class="error-message" *ngIf="form.get('sisben')?.errors?.['maxSize']">
          El archivo no debe superar 5MB
        </div>
      </div>

      <!-- Recibo Público -->
      <div class="upload-field">
        <label>Recibo Público</label>
        <div class="file-input-container">
          <input type="file"
                 #reciboPublico
                 accept=".pdf,.jpg,.jpeg,.png"
                 (change)="onFileSelected($event, 'recibo_publico')"
                 style="display: none">
          <button type="button" 
                  mat-stroked-button 
                  (click)="reciboPublico.click()">
            <mat-icon>upload_file</mat-icon>
            Seleccionar Archivo
          </button>
          <span class="file-name">{{ getFileName('recibo_publico') }}</span>
        </div>
        <div class="error-message" *ngIf="form.get('recibo_publico')?.errors?.['invalidType']">
          Solo se permiten archivos PDF o imágenes (JPG, JPEG, PNG)
        </div>
        <div class="error-message" *ngIf="form.get('recibo_publico')?.errors?.['maxSize']">
          El archivo no debe superar 5MB
        </div>
      </div>

      <mat-progress-bar *ngIf="loading" 
                       mode="determinate" 
                       [value]="uploadProgress">
      </mat-progress-bar>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-button type="button" (click)="onCancel()">Cancelar</button>
      <button mat-raised-button 
              color="primary" 
              type="submit" 
              [disabled]="!form.valid || loading">
        Subir Documentos
      </button>
    </mat-dialog-actions>
  </form>
</div>
